<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Tristan Knight's Blog</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="https://tristanknight.github.io/">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="prefetch" href="posts/using-poetry-to-manage-dependencies-in-python/" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="https://tristanknight.github.io/">

            <span id="blog-title">Tristan Knight's Blog</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
    
        

    
        
    <div class="postindex">
            <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/using-poetry-to-manage-dependencies-in-python/" class="u-url">Using Poetry to Manage Dependencies in Python</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        Tristan Knight
                    </span></p>
            <p class="dateline">
            <a href="posts/using-poetry-to-manage-dependencies-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2020-02-18T12:28:43+01:00" itemprop="datePublished" title="2020-02-18 12:28">2020-02-18 12:28</time></a>
            </p>
                </div>
            </header><div class="e-content entry-content">
                    <div>
<p>A couple weeks ago, I started using <a href="https://python-poetry.org/">Poetry</a> to
manage my projects' dependencies. So far, I have found it very helpful for quickly starting new projects and managing the dependencies of 
my existing projects. </p>
<h5>What is Poetry?</h5>
<p>Poetry is a dependency and packaging management tool for Python. With Poetry,
it's easy to create a new project and manage its dependencies. </p>
<h5>Getting Started with Poetry</h5>
<p>The <a href="https://python-poetry.org/docs/">Poetry documentation</a> explains how Poetry works in more detail. But it's quite easy to get started; first, you need 
install Poetry. On MacOS, you can install Poetry in the command line by running </p>
<p><code>curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python </code></p>
<p>Once Poetry is installed, you can create a new project in your 
 current directory by running <code>poetry new project_name</code></p>
<p>A project created with Poetry will have some built-in files, one of which is 
called "pyproject.toml"; this is where you can specify the dependencies the project will use.</p>
<p>My pyproject.toml file for this blog looks like this: </p>
<p><img src="images/pyprojecttoml.png" width="800"></p>
<p>As you can see, this project doesn't have very many dependencies, but for projects that require lots of dependencies,
it's helpful to be able to quickly add them to a single file. Poetry also includes syntax for specifying the 
version constraints for a given dependency, which you can read 
about <a href="https://python-poetry.org/docs/dependency-specification/">here</a>. If you want to quickly add a dependency to 
pyproject.toml without opening the file, you can do so via the command line with <code>poetry add dependency_name</code></p>
<p>Once you've added the dependencies you need for the project, run <code>poetry install</code>
in the project directory to install the dependencies (you still need to do this even if you haven't manually 
added any dependencies to the pyproject.toml file). Poetry will then create a poetry.lock file in your project
directory which contains the exact versions of the installed dependencies. Committing this file to your project's
repository ensures that everyone working on the project is locked-in to the same version of each
dependency.</p>
<p>After installation, Poetry will also automatically create a virtual environment for your project
if one doesn't already exist, but you'll probably need to configure your text editor or IDE to work with 
that virtual environment. If you're using PyCharm, you can simply navigate to the project interpreter settings,
either by clicking the button on the bottom-right of the PyCharm UI (as shown below), 
or by opening PyCharm's settings and navigating from there. </p>
<p><img src="images/bottomright.png" width="600"></p>
<p>Select "add interpreter" to open this window:</p>
<p><img src="images/addinterpreter.png" width="800"></p>
<p>Select "existing environment" and then navigate to your project in the the pypoetry directory.
In order to select the correct interpreter, you need to find the pypoetry directory. 
For me, the pypoetry directory was located at </p>
<p>/Users/username/Library/Caches/pypoetry </p>
<p>Once in the pypoetry directory, navigate to </p>
<p>/virtualenvs/name-of-project/bin </p>
<p>and select "python" as your interpreter. If you don't see the name of your project in the virtualenvs folder,
 that means you probably forgot to run <code>poetry install</code> in your project directory. After selecting the correct
 interpreter, restart the command line, and then your project's virtual environment should be good-to-go! </p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/mocking-in-python-unit-testing/" class="u-url">Mocking in Python Unit Testing  </a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        Tristan Knight
                    </span></p>
            <p class="dateline">
            <a href="posts/mocking-in-python-unit-testing/" rel="bookmark">
            <time class="published dt-published" datetime="2020-02-16T14:36:57+01:00" itemprop="datePublished" title="2020-02-16 14:36">2020-02-16 14:36</time></a>
            </p>
                </div>
            </header><div class="e-content entry-content">
                    <div>
<p>Recently, I wrote some unit tests for a Sudoku game project that I've been working on.
However, due to the nature of the project, some functions would be difficult to test without making
use of mocking. Python has a built-in unittest.mock library that includes helpful tools for implementing
mock objects in Python. </p>
<h5>What is mocking and why is it used?</h5>
<p>In unit testing, mocking is replacing part of a program you are testing with a mock version. 
Mocking enables developers to write self-contained tests in cases where the actual implementation is reliant on 
complex underlying classes or requests to external services. For example, if a given function includes a request to 
gather information from a webpage, we probably wouldn't want our test of that function to actually gather the information.
Instead, we could mock the request so that we are simply testing the function's handling of the information gathered.</p>
<p>Additionally, mock tests can save time if running the program's actual implementation is time consuming. 
For a more detailed explanation of how mocking is used in Python,
 <a href="https://semaphoreci.com/community/tutorials/getting-started-with-mocking-in-python">see this blog post</a> or 
 the <a href="https://docs.python.org/3/library/unittest.mock.html">unittest.mock documentation</a>. </p>
<h5>How I've used mocking in my project</h5>
<p>When I was working on a <a href="https://en.wikipedia.org/wiki/Sudoku">Sudoku</a> program, I needed to write a 
unit test for a function that checks whether a number in a given cell conflicts with any other cells: </p>
<p><img src="images/checkconflicts.png" width="800"></p>
<p>As you can see, this function depends on self.game.puzzle, the program's implementation of the Sudoku puzzle, 
which is constructed in a different class. Additionally, the program's implementation of the Sudoku puzzle 
 in turn relies on other classes and functions. It would therefore be quite complicated to write a test that uses
  the program's implementation. Therefore, in order to reduce complexity, I 
created a mock version of the Sudoku puzzle to test the conflict-checking function.</p>
<p><img src="images/testcheckconflicts.png" width="800"></p>
<p>In the mocked version, there is a class that mocks the Sudoku puzzle. In my test class,
I then set the variable puzzle equal to an array of the desired test-case board values.
I can then create an instance of the MockSudokuGame class, passing in puzzle, then setup the desired test
case and run the test. If I didn't use mocking, I would have to make my test deal with 
many other classes, functions, and attributes, which is undesirable due to the complexity
that it adds.</p>
<p>Most of the time, mocking isn't necessary when writing unit tests, but there are some instances, such as the above
case, where it can come in handy. I'm glad that I took the time to learn the basics of mocking, and hopefully 
I'll be able to identify cases when it will be useful in the future. </p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/resolving-issue-with-tkinter/" class="u-url">Diagnosing an Error when Importing tkinter</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        Tristan Knight
                    </span></p>
            <p class="dateline">
            <a href="posts/resolving-issue-with-tkinter/" rel="bookmark">
            <time class="published dt-published" datetime="2020-02-13T11:38:25+01:00" itemprop="datePublished" title="2020-02-13 11:38">2020-02-13 11:38</time></a>
            </p>
                </div>
            </header><div class="e-content entry-content">
                    <div>
<p>A couple days ago I encountered a problem while working on a project using 
<a href="https://docs.python.org/3/library/tkinter.html">tkinter</a>,
a popular Python GUI package. At first glance, everything seemed
fine -- PyCharm appeared to recognize tkinter and nothing suggested anything was amiss. However, when
I tried running my program I got an error message that looked like this:</p>
<p><img src="images/initialerror.png" width="800"></p>
<p>I first checked to make sure that I was using the appropriate syntax was importing
the correct tkinter. Perhaps the T needed to be capitalized? No, that's only when using Python 2. After
a couple minutes of Googling, I became confident that the problem was something else. 
Fortunately, the error message offered a helpful suggestion -- perhaps the Python 
I was using hadn't been correctly configured to work with Tk. </p>
<p>After doing a bit more Google searching, it seemed that other people had experienced similar issues.
One commenter <a href="https://github.com/pyenv/pyenv/issues/94#issuecomment-437180736">suggested</a> that Mac OSX users install tcl-tk before installing Python with
pyenv. I ran <code>pyenv uninstall 3.8.0</code> to uninstall Python, installed tcl-tk using <a href="https://brew.sh/">Homebrew</a>, and then reinstalled 
Python 3.8.0 using pyenv. 
I confirmed I was using the appropriate version of Python, then tried importing tkinter again, and got the same error message as before.
I ran <code>brew list</code> and confirmed that Homebrew had in fact installed tcl-tk. I then ran <code>brew info tcl-tk</code> and got this
helpful message:</p>
<p><img src="images/brewinfo.png" width="800"></p>
<p>The message indicated that I needed to add tcl-tk to my PATH. 
I ran the suggested commands, and confirmed that the directives were added to my bash profile.
I tried importing tkinter again, and once again got the same message.
I asked a friend for advice, and she suggested that I uninstall Python again, and then 
run 
<code>env PYTHON_CONFIGURE_OPTS_ARRAY="--with-tcltk-libs='-L/usr/local/opt/tcl-tk/lib -ltcl8.6 -ltk8.6'"</code>
in my console before reinstalling Python. </p>
<p>I did this, and this time when I ran <code>import tkinter</code> I 
didn't get an error message. Excited, I ran <code>tkinter._test()</code> and felt a sense of relief as a window 
popped up. My relief didn't last long, however, as I quickly noticed an error message in my console:</p>
<p><img src="images/finalerror.png" width="800"></p>
<p>Additionally, I realized that the window that had appeared failed to display the correct information. Fortunately, 
the problem seemed clear from the error message: the tk.h version didn't match the libtk.a version. After doing a bit of 
Google searching for similar problems, I found that someone had 
<a href="https://github.com/pyenv/pyenv/issues/1375#issuecomment-524280004">listed a series of steps</a> to get the latest version of 
tcl-tk to work with the pyenv Python install. </p>
<p>So I edited my python-build file, replacing </p>
<p><code>$CONFIGURE_OPTS ${!PACKAGE_CONFIGURE_OPTS} 
"${!PACKAGE_CONFIGURE_OPTS_ARRAY}" || return 1</code></p>
<p>with </p>
<p><code>$CONFIGURE_OPTS --with-tcltk-includes='-I/usr/local/opt/tcl-tk/include' --with-tcltk-libs='-L/usr/local/opt/tcl-tk/lib 
-ltcl8.6 -ltk8.6' ${!PACKAGE_CONFIGURE_OPTS} "${!PACKAGE_CONFIGURE_OPTS_ARRAY}" || return 1</code></p>
<p>I then re-installed Python, and then ran <code>echo -e 'if command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then\n eval "$(pyenv init -)"\nfi' &gt;&gt; ~/.bash_profile</code>
to update my bash file.</p>
<p>Finally, I re-started my command line, checked that I was using the right version of Python, successfully
ran <code>import tkinter</code>, then ran <code>tkinter_test()</code>. 
This time, the correct window appeared, and there was no error message in the terminal -- I had finally fixed the problem!</p>
<p>When using so many different tools and technologies that interact in various ways, it's inevitable that 
sometimes things don't work as they should. Fortunately, there are only so many things that can go wrong, and oftentimes 
someone else has experienced the same problem and devised a solution. Even though this ended up being the case here, 
it still took me a few hours to resolve the tkinter issue. But while troubleshooting the problem was frustrating,
I ended up feeling  quite a bit of satisfaction after the test finally passed successfully. </p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/test-driven-development/" class="u-url">Test-Driven Development</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        Tristan Knight
                    </span></p>
            <p class="dateline">
            <a href="posts/test-driven-development/" rel="bookmark">
            <time class="published dt-published" datetime="2020-02-11T12:52:12+01:00" itemprop="datePublished" title="2020-02-11 12:52">2020-02-11 12:52</time></a>
            </p>
                </div>
            </header><div class="e-content entry-content">
                    <div>
<p>Recently, I've been working through <a href="https://www.obeythetestinggoat.com/">Obey the Testing Goat!</a>, 
a book that covers test-driven development for web-development with Django. 
Test-driven development (TDD) is a development practice in which developers first write tests and then 
write the code that is to be tested. This is in contrast to other practices in which code is tested after being written. 
Though I have encountered testing in the past, test-driven development's emphasis 
on writing tests first and is quite different from the programming styles I have used before.</p>
<h5>Types of testing</h5>
<p>In software development, two common types of tests are <strong>unit tests</strong> and <strong>functional tests</strong>. 
Functional tests are used to test whether a feature works correctly from the <em>user's</em> perspective, 
for example, you may want to write a test to check whether a website displays the correct information, or if a button on a site
works as a it should. Functional tests are concerned with whether the feature being tested
works as it should, instead of whether or not the pieces of underlying code work correctly. Functional tests are often accompanied by a user-centered story that 
makes them readable even to people without a programming background. </p>
<p>Unit tests, on the other hand, are used to ensure that the <em>code</em> works as it should. 
Python has a built-in unittest module that includes helpful tools for writing tests. Django 
also has a django.test.TestCase module which contains some Django-specific features. In TDD,
every line of code should be unit-tested, and unit tests should be written before the code itself, which helps ensure that the developer
understands the purpose of the code before writing it. </p>
<h5>The TDD process</h5>
<p><em>Obey the Testing Goat</em> also discusses the <em>TDD process</em>, or TDD cycle, which can be summarized as follows:</p>
<ol>
<li>
<p>Write a (functional or unit) test </p>
</li>
<li>
<p>Run the test. If it passes, proceed to step 5, otherwise proceed to step 3.  </p>
</li>
<li>
<p>Identify the reason for the test's failure and write the minimum amount of code needed to fix the error (even if 
the code isn't very well-written)</p>
</li>
<li>
<p>Run the test again, and if it passes proceed to step 5. Otherwise, go back to step 3.</p>
</li>
<li>
<p>Identify code that needs refactoring, and then refactor as necessary. After refactoring,
return to step 2 to ensure that the refactoring didn't inadvertently break the code. If the code does not need refactoring, continue
building the program by returning to step 1 and writing a test for another
piece of </p>
</li>
</ol>
<p>I've found learning about test-driven development to be fascinating, and I can certainly see the utility of writing comprehensive tests
before writing code. However, I feel that the book does a better job of offering a high-level explanation of testing than it does of teaching you <em>how</em> to write your own tests. 
Although there are plenty examples of tests given, it can be a little difficult translating these examples to actually writing your own tests for completely different programs. 
Therefore, I plan to practice writing unit tests and functional tests while working on person projects going forward in order 
to develop a better understanding of testing.  </p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/first-post/" class="u-url">What I learned from using Git as a version control system</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        Tristan Knight
                    </span></p>
            <p class="dateline">
            <a href="posts/first-post/" rel="bookmark">
            <time class="published dt-published" datetime="2020-02-05T10:45:52+01:00" itemprop="datePublished" title="2020-02-05 10:45">2020-02-05 10:45</time></a>
            </p>
                </div>
            </header><div class="e-content entry-content">
                    <div>
<p>I've recently been learning how to use Git, and I can now see why it is such a popular version
control system. </p>
<h5>What is Git and why is version control essential for programmers?</h5>
<p>When working on a large project,
some type of version control system is essential -- one needs to be able to keep track of a project's changes and revert to 
a previous version if something goes wrong. Git also assists teams in coordinating work on a project, since it
gives each programmer access to a repository containing the full history of the project's codebase. In addition to simple version control, 
Git provides a multitude of features that improve developers' organization
and productivity. </p>
<h5>How does Git work?</h5>
<p>After installing and configuring Git, you can easily create a new repository by running the "git init" shell
command in your project's directory. </p>
<p>A Git repository has three key areas:
   * The Working Directory, which contains the files you can view and edit on your computer </p>
<ul>
<li>
<p>The Staging Index, which contains files from the working directory which have been added to the staging 
    index by the user but have not yet been committed</p>
</li>
<li>
<p>The Repository, where commits are stored</p>
</li>
</ul>
<h5>What are some of Git's key features?</h5>
<p>For a thorough explanation of Git's features, see the <a href="https://git-scm.com/doc">official 
Git documentation</a>. However, I have included a sample of Git's key features, 
which give you the ability to do the following: </p>
<ul>
<li>
<p>Add changes to the staging index, and commit stages from the staging 
index to the repository with the "git add" and "git commit" commands.
 You can also remove or edit previous commits. </p>
</li>
<li>
<p>Quickly check the commit history with the "git log" command.</p>
</li>
<li>
<p>Select which files you'd like Git to ignore </p>
</li>
<li>
<p>Add a tag (such as a version number) to a particular commit with the "git tag" command.</p>
</li>
<li>
<p>Maintain parallel sets of changes with Git's branching functionality. Git's branching feature is key 
in allowing large teams of developers to work on multiple features of a project simultaneously. </p>
</li>
<li>
<p>The ability to merge independent branches together. Git will also let the user know if there is a merge conflict 
(i.e. if the branches contain conflicting lines of code), which the will then need to resolve manually.</p>
</li>
</ul>
</div>
                </div>
            </article>
</div>
    

    

    


        <!--End of body content-->

        <footer id="footer">
            Contents Â© 2020         <a href="mailto:tk1824@nyu.edu">Tristan Knight</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


        <script src="assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
